<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>vue-resource的使用</title>
	<script src="../libs/vue/vue.js"></script>
	<script src="../libs/vue/vue-resource.js"></script>
</head>
<body>
	<div id="app">
		<input type="button" value="get请求" @click="getInfo">
		<input type="button" value="post请求" @click="postInfo">
	</div>
	

	<script>
		var vm = new Vue({
			el: "#app",
			methods: {
				// 发起get请求
				// 通过res.body拿到服务器返回的数据
				getInfo(){
					this.$http.get("http://vue.studyit.io/api/getlunbo").then(function(result){
						console.log(result);
					});
				},
				// 手动发起的post请求,默认没有表单格式,所以,有的服务器处理不了
				// 通过第三个参数中的{emulateJSON: true}设置提交内容类型为普通表单数据格式
				postInfo(){
					this.$http.post("http://vue.studyit.io/api/post", {}, {emulateJSON: true})
					.then(result=>{
							console.log(result.body);
					})
				},
				JsonpInfo(){
					this.$http.jsonP("http://vue.studyit.io/api/post")
					.then(result=>{
							console.log(result.body);
					})
				}
			}

		});
	</script>
</body>
</html>